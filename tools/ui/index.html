<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>UI自动化工具</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#165DFF',
            secondary: '#36CFC9',
            neutral: '#86909C',
            success: '#52C41A',
            warning: '#FAAD14',
            danger: '#FF4D4F',
            dark: '#1D2129',
            light: '#F2F3F5'
          },
          fontFamily: {
            inter: ['Inter', 'system-ui', 'sans-serif'],
          },
        },
      }
    }
  </script>
  
  <style type="text/tailwindcss">
    @layer utilities {
      .content-auto {
        content-visibility: auto;
      }
      .nav-active {
        @apply bg-primary/10 text-primary border-l-4 border-primary;
      }
      .iframe-container {
        @apply w-full h-full min-h-[calc(100vh-4rem)];
      }
    }
  </style>
</head>
<body class="font-inter bg-gray-50 text-dark overflow-hidden h-screen flex flex-col">
  <!-- 顶部导航 -->
  <header class="bg-white shadow-sm py-3 px-6 flex items-center justify-between border-b border-gray-200">
    <div class="flex items-center space-x-3">
      <i class="fa fa-graduation-cap text-primary text-2xl"></i>
      <h1 class="text-xl font-bold">UI自动化工具</h1>
    </div>
  </header>

  <!-- 主内容区 -->
  <div class="flex flex-1 overflow-hidden">
    <!-- 左侧导航 -->
    <aside class="w-64 bg-white border-r border-gray-200 flex-shrink-0">
      <nav class="py-4">
        <ul>
          <li>
            <a href="copy_file.html" class="nav-link flex items-center px-6 py-4 text-gray-700 hover:bg-gray-50 transition-colors" data-target="copyFileFrame">
              <i class="fa fa-cogs w-5 text-center mr-3"></i>
              <span>创建课程或绑定配件</span>
            </a>
          </li>
          <li>
            <a href="create_exam.html" class="nav-link flex items-center px-6 py-4 text-gray-700 hover:bg-gray-50 transition-colors" data-target="createExamFrame">
              <i class="fa fa-file-text-o w-5 text-center mr-3"></i>
              <span>创建试卷</span>
            </a>
         
        </ul>
      </nav>
    </aside>

    <!-- 右侧内容区 -->
    <main class="flex-1 overflow-auto bg-gray-50">
      <!-- 初始加载提示 -->
      <div id="initialMessage" class="h-full flex items-center justify-center text-neutral">
        <div class="text-center">
          <i class="fa fa-hand-pointer-o text-4xl mb-3 text-primary/50"></i>
          <p>请从左侧选择一个功能进行操作</p>
        </div>
      </div>
      
      <!-- 内容 iframe -->
      <iframe id="contentFrame" class="iframe-container hidden" frameborder="0"></iframe>
    </main>
  </div>

  <script>
    // 获取DOM元素
    const navLinks = document.querySelectorAll('.nav-link');
    const contentFrame = document.getElementById('contentFrame');
    const initialMessage = document.getElementById('initialMessage');
    
    // 为导航链接添加点击事件
    navLinks.forEach(link => {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        
        // 更新导航激活状态
        navLinks.forEach(l => l.classList.remove('nav-active'));
        this.classList.add('nav-active');
        
        // 显示iframe，隐藏初始提示
        contentFrame.classList.remove('hidden');
        initialMessage.classList.add('hidden');
        
        // 加载对应的页面
        const url = this.getAttribute('href');
        contentFrame.src = url;
        
        // 记录当前选中项到本地存储
        localStorage.setItem('activeNav', url);
      });
    });
    
    // 页面加载时恢复上次选中状态
    document.addEventListener('DOMContentLoaded', () => {
      const activeNav = localStorage.getItem('activeNav');
      if (activeNav) {
        const targetLink = Array.from(navLinks).find(link => link.getAttribute('href') === activeNav);
        if (targetLink) {
          targetLink.click();
        }
      }
    });
    
    // 监听iframe加载完成事件
    contentFrame.addEventListener('load', () => {
      console.log('页面加载完成');
    });
  </script>
</body>
</html>